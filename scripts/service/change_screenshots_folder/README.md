## Основные функции
Скрипт изменяет папку скриншотов на серверах TrassirOS.

Если при установке новой папки возникли ошибки - скрипт сделает еще две попытки изменить папку.
Чаще всего ошибки могут возникнуть при монтировании сетевой папки (при вводе неверных данных для подключения) или папки на HDD (при отсутствии в системе диска).

## Установка
* Перейти в автоматизацию, нажать «Загрузить пример» и выбрать «Из файла», указав путь к скрипту.
* Снять галочку «Включить скрипт» и нажать сохранить.
* Выполнить настройку и нажать "Сохранить и запустить".

<img src="readme/settings.png"  alt="settings.png" align="left">

## Настройка
Возможные значения параметра *Screenshot folder*:
<details>
<summary>Default</summary>
Устанавливает стандартный путь для сохранения скриншотов - /home/trassir/shots
</details>

<details>
<summary>HDD</summary>
Устанавливает папку на жестком диске сервера в качестве папки скриншотов.
<br>Для выбора папки используется встроенная функция host.path_arbitrary_data() что позволяет избежать проблем  
при наличии нескольких HDD в системе, т.к. пути /media/TrassirArchive* монтируются динамически и при каждой загрузке меняются.
Примерное расположение скриншотов при выборе данной опции - /media/TrassirArchive/TrassirArbitraryData/shots<br>
<br>При наличии нескольких дисков в системе - скрипт должен обязательно оставаться в рабочем состоянии.<br>
<br>Если в системе нет ни одного HDD скрипт выдаст ошибку:
<br>ERROR: EnvironmentError: HDD Not Found!
<br>Make sure at least 1 HDD is active.
<br>Restart script. If you see this message again - contact with support@dssl.ru
</details>
<details><summary>Network (CIFS)</summary>
    Мы не можем гарантировать стабильную работу трассира с общей сетевой папкой, поэтому используйте данный параметр в крайнем случае!
    <img src="readme/settings_cifs.png" alt="settings_cifs.png">
    <br>Монтирует общую сетевую папку в локальную /mnt/LocalStorage/shared после чего устанавливает ее в качестве папки скриншотов.
    <br>Монтирование папки реализуется по протоколу CIFS.
    <br>При этом чтобы расшарить папку на <strong>Windows 10</strong> необходимо предварительно включить компонент Windows: SMB 1.0/CIFS File Sharing Support (название компонента может отличаться в зависимости от версии Windows). На более ранних версиях Windows данный компонент может отсутствовать, соотвественно поддержка данного протокола включена по умолчанию.
    <br>При расшаривании папки обязательно укажите пользователя и пароль.
Анонимный доступ может не сработать, даже если в настройках доступа к расшареной папке разрешено чтение/изменение всем.
    <br>При потере соеднения с папкой все обращения к папке скриншотов могут "подвесить" trassir на 120 сек.
</details>

<details><summary>Custom</summary>
    <img src="readme/settings_custom.png" alt="settings_custom.png">
    <br>Устанавливает папку, которая указана в параметре Custom folder settings → Full path.
    <br>При использовании данного параметра мы не можем гарантировать стабильную работу сервера Trassir.
Используйте с осторожностью! 
</details>